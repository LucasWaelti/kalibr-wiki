The [Camera-IMU calibration](Camera-IMU-calibration) routine needs to know how "noisy" your IMU is. This is specified in your [IMU configuration YAML file](yaml-formats) before you start the calibration. Here, you can learn how to set these parameters and how to interpret them.

## The IMU Noise Model

The IMU measurement model used in Kalibr contains two types of sensor errors: <img src="https://latex.codecogs.com/svg.latex?{n}">, an additive noise term that fluctuates very rapidly ("white noise"), and <img src="https://latex.codecogs.com/svg.latex?{b}">, a slowly varying sensor bias. The angular rate measurement <img src="https://latex.codecogs.com/svg.latex?{%5Ctilde%5Comega}"> (in case of a gyro) is therefore written as:

<img src="https://latex.codecogs.com/svg.latex?{%5Ctilde%5Comega(t)=%5Comega(t)+b(t)+n(t)}">.

The same model (with different parameters, as we will later see) is used to model the accelerometer measurement errors. This model is tractable and often used.

***

**Additive "White Noise"** The rapid fluctuations in the sensor signal are modelled heuristically with an additive, independent white Gaussian noise process <img src="https://latex.codecogs.com/svg.latex?{n(t)}"> of strength <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_g}"> in continuous-time as:

<img src="https://latex.codecogs.com/svg.latex?{n(t)%5Csim%5Cmathcal%7BN%7D(0,%5Csigma_g^2)}">

<img src="https://latex.codecogs.com/svg.latex?{E[n(t_1)n(t_2)]=%5Csigma_g^2%5Cdelta(t_1-t_2})">

In other words, the higher <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_g}"> is, the more "noisy" your gyro measurements. The parameters `gyroscope_noise_density` and `accelerometer_noise_density` in the [YAML file](yaml-formats) specify exactly these noise strengths <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_g}"> (gyro) and <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_a}"> (accel).

How you can determine this parameter for your particular IMU in practice will be explained below [link].

***

**Bias** In Kalibr, low variations in the sensor bias are modelled with a "Brownian motion" process, also termed a "Wiener process", or "random walk" in discrete-time. Heuristically, this process is generated by integrating "white noise" of strength <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_b_g}"> (gyro) or <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_b_a}"> (accel):

<img src="https://latex.codecogs.com/svg.latex?{%5Cdot%7Bb%7D_g=%5Csigma_b_gw}">,

where <img src="https://latex.codecogs.com/svg.latex?{w}"> is "white noise" of unit strength.

The parameters `gyroscope_random_walk` and `accelerometer_random_walk` in the [YAML file](yaml-formats) specify these noise strengths <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_b_g}"> and <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_b_a}">. The higher the bias variations in your gyro or accel are, the higher these parameters need to be set.

How you can determine this parameter for your particular IMU is specified below [link].

***

Table 1: Summary of the IMU noise model parameters as they can be specified in the [IMU configuration YAML file](yaml-formats).

Parameter | YAML element | Symbol | Units
--- | --- | --- | ---
Gyroscope "white noise" | `gyroscope_noise_density` | <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_g}"> | <img src="https://latex.codecogs.com/svg.latex?{%5Cfrac%7Brad%7D%7Bs%7D%7D%5Cfrac%7B1%7D%7B%5Csqrt%7BHz%7D%7D%7D}">
Accelerometer "white noise" | `accelerometer_noise_density` | <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_a}"> | <img src="https://latex.codecogs.com/svg.latex?{%5Cfrac%7Bm%7D%7Bs^2%7D%7D%5Cfrac%7B1%7D%7B%5Csqrt%7BHz%7D%7D%7D}">
Gyroscope "random walk" | `gyroscope_random_walk` | <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_b_g}"> | <img src="https://latex.codecogs.com/svg.latex?{%5Cfrac%7Brad%7D%7Bs^2%7D%7D%5Cfrac%7B1%7D%7B%5Csqrt%7BHz%7D%7D%7D}">
Accelerometer "random walk" | `accelerometer_random_walk` | <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_b_a}"> | <img src="https://latex.codecogs.com/svg.latex?{%5Cfrac%7Bm%7D%7Bs^3%7D%7D%5Cfrac%7B1%7D%7B%5Csqrt%7BHz%7D%7D%7D}">

***

## How to Obtain the Parameters for your IMU

This section describes how you can obtain the Kalibr IMU noise model parameters for your particular IMU. We focus on how to get the parameters from the datasheet or using the "Allan variance" - but there are many alternative methods available.

### From the Datasheet of the IMU

The **"White noise" Terms ** (<img src="https://latex.codecogs.com/svg.latex?{%5Csigma_g}">, <img src="https://latex.codecogs.com/svg.latex?{%5Csigma_a}">) are often specified in the datasheet of the sensor manufacturer. A bit misleading, it is commonly specified as _Angular Random Walk_ in case of the gyro, and _Velocity Random Walk_ for the accel. The name comes from the fact that if this white noise on rate or acceleration is integrated, it becomes a "random walk" on the angle or the velocity.


**From the Allan Variance**



